"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11770],{48506:function(e,t,n){n.d(t,{r:function(){return D},q:function(){return T}});var r=n(81862),a=n(52322),i=n(24862),o=n(62197),l=n(701),c=n(72841),s=n(54711),d=n(21568),u=n(68219),m=n(8930),p=n(94346),f=n(25499),v=n(80777),y=n(90136),h=n(40504),_=n(84691),g=n(94066),C=n(22058),x=n(53880),b=n(21805),w=n(59877),P=(0,n(98116).ZL)()(e=>{var{palette:t,breakpoints:n,tokens:{font:r,color:a,spacing:i}}=e;return{container:{display:"flex",justifyContent:"center",marginTop:21},flexRoot:{display:"flex",flexDirection:"column",alignItems:"center",background:a.white,width:"100%"},subTitle:{fontWeight:r.weight.bold,marginBottom:i.xxs},optionsSection:{display:"flex",flexFlow:"row",marginBottom:i.base,flexGrow:1,marginTop:i.s,[n.down("md")]:{flexFlow:"column"}},backButton:{fontSize:r.size.s,fontWeight:r.weight.bold,marginBottom:i.base},cancelTitle:{fontWeight:r.weight.bold,fontSize:r.size.l},cancelAtEndOfTermContainer:{backgroundColor:"#F3F4F5",padding:i.l,paddingBottom:i.s,display:"flex",flexDirection:"column",width:326,[n.down("sm")]:{backgroundColor:"initial",borderBottom:"1px solid #0c121c1f"}},highlightedContainer:{backgroundColor:"#F3F4F5"},cancelEarlyTitleContainer:{padding:i.l,paddingBottom:i.s,display:"flex",flexDirection:"column",width:326},description:{fontSize:r.size.s,lineHeight:r.lineHeight.s,marginTop:15},total:{fontSize:14,fontWeight:r.weight.bold},item:{fontSize:r.size.s,lineHeight:r.lineHeight.s},items:{display:"flex",flexDirection:"row",justifyContent:"space-between"},hr:{borderColor:"#0c121c1f",width:"100%",marginTop:4},itemPrice:{fontSize:r.size.m},totalPrice:{fontSize:r.size.m,fontWeight:900},taxNote:{fontSize:r.size.xs,fontWeight:r.weight.normal,marginTop:-6,alignSelf:"flex-end"},cancelEndOfTermBtn:{color:t.common.white,backgroundColor:t.secondary.main,"&:hover":{backgroundColor:t.secondary.dark,color:t.common.white},marginTop:i.l,[n.up("md")]:{marginTop:"auto",marginBottom:36}},cancelEarlyBtn:{marginTop:i.l},aboutNote:{fontSize:r.size.s,textDecoration:"underline",marginTop:15,textAlign:"center",cursor:"pointer"}}}),T="Flat fee cancellation",E={usd:40,cad:54,aud:60,eur:37,gbp:31,chf:35,dkk:270,nok:420,sek:430,jpy:5700,inr:3300,krw:53e3,brl:200},k=e=>{var{t,productDueDate:n,productName:r,currentAlottmentExpiration:i,commitmentRemaining:o,helpPath:l,totalCreditsRemaining:c}=e;return{cancelAtEndOfTermTitle:t("cancellation:cancel_at_end_of_term_title"),back:t("back"),continue:t("continue"),aboutNote:t("cancellation:flat_fee_about_cancellation"),taxNote:t("cancellation:flat_fee_tax_note"),remainingFeeText:o>1?t("cancellation:flat_fee_remaining_text_plural",{COUNT:o}):t("cancellation:flat_fee_remaining_text_singular"),flatFeeCost:t("cancellation:flat_fee_cost"),monthlyCostText:t("cancellation:flat_fee_monthly_cost"),totalForEarlyOpt:t("cancellation:flat_fee_total_early"),totalForEndOfTermOpt:(0,a.jsx)(w.cC,{ns:s.ahM,i18nKey:t(o>1?"cancellation:flat_fee_total_end_of_term_plural":"cancellation:flat_fee_total_end_of_term_singular"),values:{COUNT:o}}),orderCreationError:(0,a.jsx)(w.cC,{t:t,ns:s.ahM,i18nKey:"cancellation:flat_fee_order_creation_error",components:{SupportLink:(0,a.jsx)(d.r,{underline:!0,style:{textDecoration:"underline"},clickAnalyticsLabel:"".concat(f.vn4,".").concat(f.Rqe),href:l})}}),cancelAtEndOfTermDescription:(0,a.jsx)(w.cC,{ns:s.ahM,i18nKey:"cancellation:flat_fee_cancel_end_of_term_description",values:{PRODUCT_DUE_DATE:n},components:{bold:(0,a.jsx)("strong",{})}}),cancelEarlyTitle:t("cancellation:cancel_early_title"),pausePlanEarlyCancelationMessage:t("pause_plan_early_cancelation_message"),cancelEarlyDescription:(0,a.jsx)(w.cC,{ns:s.ahM,i18nKey:"cancellation:flat_fee_cancel_early_description",values:{PRODUCT_DUE_DATE:i},components:{bold:(0,a.jsx)("strong",{})}}),technicalIssuesLink:(0,a.jsx)(w.cC,{ns:s.ahM,i18nKey:"cancellation:technical_issues_link",components:{a:(0,a.jsx)(d.r,{href:"/help",target:"_blank",clickAnalyticsLabel:(0,C.U_)({pageSection:f.vn4,eventLabel:f.l4m})})}}),confirmPageTitle:t("cancellation:confirm_page_title",{PRODUCT_NAME:r}),earlyCancelationMessage:(0,a.jsx)(w.cC,{ns:s.ahM,i18nKey:"credit_rollover:early_cancelation_message",values:{TOTAL_CREDITS_REMAINING:c},components:{bold:(0,a.jsx)("strong",{})}})}},D=e=>{var t,{formattedExpirationDate:n,licenseName:d,onSubmit:D,onPrevious:N,plan:j,churnSurveyResults:I,compareCancellationFeeWithMonthlyFee:A=!1}=e,M=(0,_.aQ)(),{classes:O,cx:R}=P(),F=(0,x.ad)(),{t:U}=(0,w.$G)(s.ahM),S=M(new Date(j.subscriptionExpiration)),Z=e=>D({action:e}),z=k({t:U,productName:d,productDueDate:n,currentAlottmentExpiration:S,commitmentRemaining:j.commitmentRemaining,helpPath:F,totalCreditsRemaining:j.totalCreditsRemaining}),L=(0,g.cY)(j.id),B=j.commitmentRemaining<=1,{data:q}=(0,h.K)({productId:m.ue});if(q){var K,W,Y=E.usd<((null===(W=j.product)||void 0===W?void 0:null===(K=W.prices)||void 0===K?void 0:K.usd)||0);A&&Y?q.prices=j.product.prices:q.prices=E}var G=(0,y.LG)({product:q}),H=(null==I?void 0:I.subReason)||(null==I?void 0:I.mainReason)||((null==I?void 0:I.other)?"anything_else":void 0),{createOrderHandler:Q,isCreateOrderInProgress:V,orderStatus:$}=(0,v.Q)({productOverride:q,productId:m.ue,subscriptionIdentifier:j.id,cancellationReason:T,cancellationReasonName:H}),J=(t=(0,r._)(function*(){B?Z("assistedEarlyCancel"):(b.Z.set("pwnext","true",{expires:new Date(new Date().getTime()+864e5)}),Q())}),function(){return t.apply(this,arguments)});return(0,a.jsx)(i.Z,{className:O.container,children:(0,a.jsxs)(i.Z,{component:"div",className:O.flexRoot,children:[(0,a.jsx)(o.Z,{variant:"subtitle1",className:O.subTitle,"data-automation":"CancelPlans_cancelOptionStep",children:z.confirmPageTitle}),(0,a.jsxs)(i.Z,{className:O.optionsSection,children:[j.autoRenewal&&(0,a.jsxs)(i.Z,{className:O.cancelAtEndOfTermContainer,"data-automation":"cancelAtEndOfTermContainer",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",className:O.cancelTitle,children:z.cancelAtEndOfTermTitle}),(0,a.jsx)(o.Z,{variant:"body1",className:O.description,children:z.cancelAtEndOfTermDescription}),(0,a.jsx)(o.Z,{sx:{marginTop:"9px"},variant:"body1",className:O.description,children:z.remainingFeeText}),(0,a.jsx)(u.z,{clickTrack:(0,C.U_)({pageSection:f.vn4,eventLabel:f.$zE}),onClick:()=>Z("turnOffAutoRenewal"),onKeyDown:e=>{"Enter"===e.key&&Z("turnOffAutoRenewal")},variant:"contained","aria-label":"Cancel at end of term","data-automation":"cancelAtEndOfTermCTA",className:O.cancelEndOfTermBtn,children:z.continue})]}),(0,a.jsxs)(i.Z,{className:R(O.cancelEarlyTitleContainer,!j.autoRenewal&&O.highlightedContainer),"data-automation":"cancelEarlyContainer",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",className:O.cancelTitle,children:z.cancelEarlyTitle}),(null==$?void 0:$.status)===p.cM&&(0,a.jsx)(l.Z,{severity:"error",children:z.orderCreationError}),L&&(0,a.jsx)(l.Z,{severity:"warning",children:z.earlyCancelationMessage}),(0,a.jsx)(o.Z,{variant:"body1",className:O.description,children:j.isPaused?z.pausePlanEarlyCancelationMessage:z.cancelEarlyDescription}),!B&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.Z,{sx:{marginTop:"62px"},className:O.items,children:[(0,a.jsx)(o.Z,{variant:"body1",className:O.item,children:z.flatFeeCost}),(0,a.jsx)(o.Z,{variant:"body1",className:O.itemPrice,children:G})]}),(0,a.jsx)("hr",{className:O.hr}),(0,a.jsxs)(i.Z,{className:O.items,children:[(0,a.jsx)(o.Z,{variant:"body1",className:O.total,children:z.totalForEarlyOpt}),(0,a.jsx)(o.Z,{variant:"body1",className:O.totalPrice,"data-automation":"cancellationFeeTotalAmount",children:G})]}),(0,a.jsx)(o.Z,{variant:"body1",className:O.taxNote,children:z.taxNote})]}),(0,a.jsx)(u.z,{clickTrack:(0,C.U_)({pageSection:f.vn4,eventLabel:f.r25}),disabled:V,onClick:J,onKeyDown:e=>{"Enter"===e.key&&J()},"aria-label":"Cancel early with a fee",variant:"outlined",className:O.cancelEarlyBtn,"data-automation":"cancelEarlyWithFeeCTA",children:V?(0,a.jsx)(c.Z,{color:"inherit",size:24}):z.continue}),(0,a.jsx)(o.Z,{variant:"body1",className:O.aboutNote,onClick:()=>{window.open("https://support.shutterstock.com/s/article/Does-Shutterstock-charge-any-cancellation-fees","_blank")},children:z.aboutNote})]})]}),(0,a.jsx)(u.z,{clickTrack:(0,C.U_)({pageSection:f.vn4,eventLabel:f.pPK}),onClick:N,variant:"text",className:O.backButton,children:z.back})]})})}},22817:function(e,t,n){n.d(t,{Ps:function(){return r},g7:function(){return a},oy:function(){return o},tc:function(){return i}});var r="CA",a="IN",i="JP",o="US"},55151:function(e,t,n){n.d(t,{Gb:function(){return i}}),n(52322),n(5632);var r=n(2784),a=(0,r.createContext)({}),i=()=>(0,r.useContext)(a)},58592:function(e,t,n){n.d(t,{z:function(){return s}});var r=n(32075),a=n(63339),i=n(2784),o=n(60410),l=n(97440),c=n(36001),s=e=>{var{error:t,flagID:n,name:s,reason:d,variantKey:u}=e,[m,p]=(0,l.i)(e=>e[n]),{hasRecordImpressionBeenCalled:f}=m||{},v=d!==o.gH,{analytics:y}=(0,a.yh)(),{isGoodBot:h,isSuspectedBadBot:_}=(0,r.N)();return{recordImpression:(0,i.useCallback)(()=>{if(!f&&v){var e=!!t||h||_||!(0,c.Z)(u);y&&(y.experiment({experiment_id:n,experiment_name:s,is_bot:h||_,is_error:!!t,source:o.o2,variation_id:e?o.Q2:u}),p({[n]:{hasRecordImpressionBeenCalled:!0}}))}},[y,t,n,f,v,h,_,s,p,u])}}},34537:function(e,t,n){n.d(t,{l:function(){return c}});var r=n(55151),a=n(55373),i=n(60410),o=n(58592),l=n(42192),c=e=>{var{reason:t,variation:n,error:c,isLoading:s=!1}=(0,l.I)(e),{recordImpression:d}=(0,o.z)({error:c,flagID:e,reason:t,variantKey:n}),{upsertExperimentComponent:u,isVisualizedExperimentActive:m}=(0,r.Gb)();m&&u({id:i.d7,flagID:e,isLoading:!1,isInactiveForUser:!1,recordImpression:a.Z,variant:{key:void 0,treatmentID:n},reason:t});var p=t===i.M6&&!!n;return{inExperiment:p,isLoading:s,recordImpression:p?d:()=>"",variationId:n||i.NM}}},36001:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(60410),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.ZC.includes(e)}},41356:function(e,t,n){n.d(t,{P:function(){return r},tj:function(){return a}});var r="P3-2433-CAD-currency-for-Packs-and-Subs",a=["1","variantA"]},27084:function(e,t,n){n.d(t,{E:function(){return c}});var r=n(56294),a=n(32075),i=n(68668),o=n(49219),l=n(32300),c=e=>{var{prices:t={}}=e,n=(0,l.R)(),{isGoodBot:c}=(0,a.N)(),{currencyData:{currency:s=r.a}}=(0,i.PE)();return c?(0,o.Yy)({prices:t,localeCurrency:s}):n?(0,o.Yy)({prices:t,localeCurrency:"CAD"}):(0,o.Yy)({prices:t,localeCurrency:s})}},32300:function(e,t,n){n.d(t,{R:function(){return o}});var r=n(34537),a=n(3214),i=n(41356),o=()=>{var e=(0,a.m)(),{variationId:t}=(0,r.l)(i.P),n=i.tj.includes(t);return e&&n}},27559:function(e,t,n){n.d(t,{o:function(){return m}});var r=n(54711),a=n(97956),i=n(94095),o=n(68668),l=n(59877),c=n(2784),s=e=>e%1==0?0:2,d=e=>{var{t,price:n}=e;return{compCredits:t("comp_credits",{PRICE:n}),credit:t(["1",1].includes(n)?"credit":"credits",{PRICE:n}),licenseCredits:t("license_credits",{PRICE:n}),unavailable:t("ent:unavailable"),unlimited:t("ent:unlimited")}},u=e=>{var{labels:t={}}=e;return{[i.vh]:t.credit,[i.un]:t.compCredits,[i.eM]:t.licenseCredits}},m=()=>{var{fullLocale:e,currencyData:{currency:t="USD"}={}}=(0,o.PE)(),{t:n}=(0,l.$G)(r.Pkf),m=e;return"en-CA"===e?m="en-US":"fr-CA"===e&&(m="fr-US"),(0,c.useCallback)(e=>{var{price:r,localeCurrencyOverride:o="",priceType:l=i.Br,fixedFractionDigits:c=null}=e,p=d({t:n,price:r});if(r===a.nZ)return p.unavailable;if(r===a.q9)return p.unlimited;var f=u({labels:p});return(null==f?void 0:f[l])||new Intl.NumberFormat(m,{style:"currency",currency:o||t,minimumFractionDigits:null!=c?c:s(r)}).format(r)},[t,m,n])}},80777:function(e,t,n){n.d(t,{Q:function(){return J}});var r,a=n(81862),i=n(57460),o=n(6692),l=n(48506),c=n(8930),s=n(94346),d=n(59100),u=n(61592),m=n(71933),p=n(68668),f=n(27084),v=n(32300),y=n(93332),h=n(9774),_=n(5760),g=n(59625),C=n(72212),x=n(63775),b=n(97956),w=n(72726),P=n(18271),T=n(82124),E=e=>{switch(e.paymentMethod){case _.M2:return{paymentId:e.id,expirationMonth:e.creditCard.expMonth,expirationYear:e.creditCard.expYear,maskedNumber:e.creditCard.maskedNumber,cardType:e.creditCard.type,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case _.Eq:return{paymentId:e.id,bic:e.sepaDirectDebit.bic,maskedIBAN:e.sepaDirectDebit.maskedIban,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case _.YR:return{paymentId:e.id,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit,email:e.email};default:return null}},k=e=>{var{paymentProfiles:t=[]}=e;return Array.isArray(t)&&0!==t.length?E(t.find(e=>!0===e.isDefault)||t[0]):null},D=e=>{var{orderItems:t=[],license:n,country:r,debitableIdentifier:a,selectedShadowsOption:o}=e;return t.map(e=>{var{product:{id:t,eligibleForRebilling:l,seatCount:s}={},productType:d,assets:m,paymentMethod:p,subscriptionIdentifier:f,cancellationReason:v,cancellationReasonName:y}=e,h=f&&v?(0,i._)({subscription_identifier:f,cancellation_reason:v},y&&{cancellation_reason_name:y}):{},P=[];return s&&(h.seat_count=s),(null==p?void 0:p.type)!==_.xt&&(h.subscription_id=null==p?void 0:p.id),(null==m?void 0:m.length)&&(P=m.map(e=>{var{asset:t,selectedAssetSize:r}=e,a=(null==t?void 0:t.type)===b.tn,l=t.overrideAssetTypeForMusicOrder?t.overrideAssetTypeForMusicOrder:(0,w._L)(t);return(0,i._)({type:l,id:t.id,license:n},t.overrideAssetTypeForMusicOrder&&!a&&{format:x.vD,size:x.vD},(null==r?void 0:r.size)&&!a&&{size:r.size},(null==r?void 0:r.format)&&{format:r.format},l===b.IK&&{headline:t.title},l===b.k4&&t.imageType===b.w5&&(0,i._)({angle:t.angle||g.U,content_provider:b._R},(null==r?void 0:r.format)!==C.YU&&{include_shadows:"on"===(o||"on").toLocaleLowerCase()}))})),h.auto_renewal=l&&d===u.Cs&&!c.ik.includes(r)&&!c.yD.includes(e.product.name),h.debitable_identifier=a,(0,i._)({product:{id:t,type:d||u.cs}},P&&{media:P},Object.keys(h).length>0&&{meta:h})})},N=e=>{var{currency:t,country:n,paymentProfileId:r,items:a,couponCode:i,vatNumber:o}=e;return{data:{type:"orders",attributes:{currency:t,items:a,country:n,payment_profile_id:r,coupons:i?[{type:"coupon",name:"coupon",coupon_code:i}]:[],client_data:{},vat_override:o||void 0}}}},j=(r=(0,a._)(function*(e){var{country:t,couponCode:n,currency:r,orderItems:a,selectedShadowsOption:i,paymentProfileId:o,vatNumber:l,configs:c={},license:s=u.ur,debitableIdentifier:d,showP32433Cad:m=!1}=e,p=D({orderItems:a,license:s,country:t,debitableIdentifier:d,selectedShadowsOption:i}),f=(0,h.Tn)().formattedUrl,v=N({country:t,couponCode:n,currency:m&&"CAD"||r,items:p,paymentProfileId:o,vatNumber:l});return P.uS.post(f,v,c).then(e=>({headers:e.headers,data:(0,T.O)(e.data)}))}),function(e){return r.apply(this,arguments)}),I=n(49219),A=e=>{var{couponCode:t,productName:n}=e,r=null;return n===c.Pv&&t===c.Xd?r=c.E6:n===c.fn&&t===c.Q9&&(r=c.Em),r},M=n(42637),O=n(74846),R=n(54947),F=n(3855),U=n(45480),S=n(37485),Z=n(88759),z=n(978),L=n(91072),B=n(28871),q=n(53880),K=n(30708),{NODE_CONFIG_ENV:W}=n(34406).env,Y=()=>{var e=(0,K.u4)()?"production":"qa";switch(W||e){case"dev":return"65021";case"qa":return"12424";case"production":return"14156";default:return"NO_ENV_DEFINED"}},G=()=>{var e=(0,K.u4)()?"production":"qa";switch(W||e){case"dev":return"65035";case"qa":return"19606";case"production":return"17383";default:return"NO_ENV_DEFINED"}},H=n(21805),Q=n(5632),V=n(2784),$=e=>{var t,{couponCode:n,displayInlineCancellationFlow:r}=e,a=(0,Q.useRouter)(),o=(0,m.v)(),l=!!(null==o?void 0:null===(t=o.current)||void 0===t?void 0:t.isPeacock);return(0,V.useCallback)(e=>{var{orderId:t}=e,o=(0,M.DW)({language:a.locale,relativePath:(0,q.U2)({queryParams:(0,i._)({orderId:t},(null==a?void 0:a.query)||{},l&&{isCreativeAiOrder:"true"},n?{[u.d9]:n,[u.Gp]:n}:{},r&&{display:"inlineCancellationFlow"})})});a.push(o)},[n,l,a,r])},J=e=>{var{products:t,asset:n,assetSize:r,couponCode:m,productId:h,productType:_=u.Cs,productOverride:g,seatCount:C,setCreateOrderStatus:x=()=>{},setIsInvalidCoupon:b=()=>{},vatNumber:P,license:T,isLicenseDrawer:E=!1,preset:D,eligibilityData:N={},existingUserRedirectPath:M,selectedShadowsOption:q,shouldForceAsset:K=!1,subscriptionIdentifier:W,cancellationReason:J,cancellationReasonName:X}=e,{region:ee}=(0,p.PE)(),{isIndiaRegion:et}=(0,U.B)(),{data:en}=(0,Z.jy)(),{data:er}=(0,L.u)(),ea=(0,Z.B)(),ei=(0,z.r)(),[eo,el]=(0,V.useState)(!1),[,ec]=(0,B.QD)(n)||[],{eligibilityCurrency:es,debitableIdentifier:ed}=N,eu=(0,V.useMemo)(()=>null!=g?g:(0,i._)({},(0,I.$A)(t,h),C?{seatCount:C}:{}),[g,h,t,C]),em=null==eu?void 0:eu.id,{asPath:ep}=(0,Q.useRouter)(),ef=(0,f.E)({prices:null==eu?void 0:eu.prices}),ev=(0,v.R)(),{data:ey}=(0,R.Z)({shouldFetch:!!ea}),eh=m||eu.couponCode,e_=A({couponCode:eh,productName:null==eu?void 0:eu.name}),eg=(0,F.Sl)({queryParams:(0,i._)({landing_page:(0,O.t)({couponCode:eh,productId:em,vatNumber:P,seatCount:null==eu?void 0:eu.seatCount,doNotRedirect:!0,asset:et||K?n:void 0,existingUserRedirect:M||ec,license:T})},D&&{preset:D}),signUpView:e_}),eC=(0,V.useCallback)(()=>{if(window){var e,t;H.Z.set("referer_page",ep),null===(t=window.NREUM)||void 0===t||null===(e=t.addPageAction)||void 0===e||e.call(t,"UP3-1623 assign loggedOutHandler authRedirectPath to href",(0,o._)((0,i._)({},window.location||{}),{asPath:ep,authRedirectPath:eg})),window.location.href=eg}},[ep,eg]),ex=k({paymentProfiles:ey}),eb=(0,V.useCallback)(e=>{var t,n,r={createTime:null==en?void 0:en.createTime,component:"useCreateOrder.js",errorCode:e.code,errorStatus:e.status,errorDetail:e.detail,errorMessage:e.message,errorStack:e.stack||"useCreateOrder",errorTitle:e.title,impersonatorId:er.impersonatorId,msg:"UP1-2650 Order creation failed",organizationId:null==en?void 0:en.organizationId,referrerPath:window.location.pathname,referrerQuery:window.location.search,userId:null==en?void 0:en.id,username:null==en?void 0:en.username,isLicenseDrawer:E};null===(n=window.NREUM)||void 0===n||null===(t=n.noticeError)||void 0===t||t.call(n,e,r)},[er,en,E]),ew=$({couponCode:eh,displayInlineCancellationFlow:[l.q].includes(J)}),eP=(0,S.d)(),[eT,eE]=(0,V.useState)({status:"",error:void 0}),ek=(0,V.useCallback)((0,a._)(function*(){try{if(x({status:"",error:void 0}),eE({status:"",error:void 0}),el(!0),et&&c.Tj.includes(eh))throw Error("free trial offer not available in India");if(ey){var e,t=n?{assets:[{asset:n,selectedAssetSize:(0,y.DW)({assetType:(0,w.Tp)(n),assetSize:r})}]}:{},a=[];J===l.q?a.push({product:{id:G(),type:"products"},cancellationReason:J,cancellationReasonName:X,subscriptionIdentifier:W}):(a.push((0,o._)((0,i._)({},t),{product:eu,productType:_})),null!=J&&null!=W&&a.push({product:{id:Y(),type:"products"},cancellationReason:J,cancellationReasonName:X,subscriptionIdentifier:W}));var{data:m}=yield j({country:ee,currency:es||ef,paymentProfileId:null==ex?void 0:ex.paymentId,orderItems:a,selectedShadowsOption:q,vatNumber:P,couponCode:eh,license:T,debitableIdentifier:ed,showP32433Cad:ev,configs:{headers:{[d.yx]:ei}}});x({status:s.MR,error:void 0}),eE({status:s.MR,error:void 0}),el(!1),ew({orderId:m.id}),eP({actionName:"convert - order creation success",customAttributes:{productName:eu.name,productType:_,country:ee,currency:es||ef,assetType:(0,w.Tp)(n),assetSize:r,license:T,isLicenseDrawer:E}})}el(!1)}catch(t){x({status:s.cM,error:t}),eE({status:s.cM,error:t}),el(!1),(null==t?void 0:null===(e=t.detail)||void 0===e?void 0:e.toLowerCase())===u.LQ&&b(!0),eb(t)}}),[x,et,eh,ey,n,r,ee,es,ef,null==ex?void 0:ex.paymentId,eu,_,P,T,ed,ew,eP,E,eb,b,q,W,ev,J,X,ei]);return{createOrderHandler:ea?ek:eC,isCreateOrderInProgress:eo,product:eu,orderStatus:eT,createOrderHandlerLoading:ea&&!ey}}},40504:function(e,t,n){n.d(t,{K:function(){return c}});var r=n(9774),a=n(18271),i=n(82124),o=n(3255),l=e=>{var{productId:t}=e;return(0,r.wv)({urlParams:{productId:t}}).formattedUrl},c=e=>{var{productId:t,shouldFetch:n=!0}=e,{data:r,error:c}=(0,o.ZP)(n&&l({productId:t}),e=>a.uS.get(e).then(e=>(0,i.O)(e.data)));return{data:r,loading:!r&&!c,error:c}}},90136:function(e,t,n){n.d(t,{IW:function(){return h},LG:function(){return v},Ww:function(){return y},cm:function(){return _},st:function(){return m},tP:function(){return f},v6:function(){return g}});var r=n(56294),a=n(22253),i=n(68668),o=n(27084),l=n(32300),c=n(27559),s=n(49219),d=n(2784),u=n(94001),m=e=>{var{prices:t={}}=e,{currencyData:{currency:n=r.a}}=(0,i.PE)();return(0,s.Yy)({prices:t,localeCurrency:n})},p=(e,t,n)=>e+t*n,f=e=>{var{product:t}=e,{prices:n={},pricesPerSeat:r={},seatCount:a,downloadCredits:i,commitmentLength:o}=t||{},l=m({prices:n}),c=n[null==l?void 0:l.toLowerCase()],s=r[null==l?void 0:l.toLowerCase()],d=c;return s&&a&&(d=p(c,s,a)),(0,u.P)(d/(1===o?12*i:i),l)},v=e=>{var{product:t}=e,{prices:n={},pricesPerSeat:r={},seatCount:a}=t||{},i=m({prices:n}),o=n[null==i?void 0:i.toLowerCase()],l=r[null==i?void 0:i.toLowerCase()],c=o;return l&&a&&(c=p(o,l,a)),(0,u.P)(c,i)},y=e=>{var t,n,r,a,{activeTab:i,product:o,productGroup:s}=e,{prices:d=[]}=o||{},p=(0,l.R)(),f=(0,c.o)(),v=m({prices:d});p&&(v="cad");var{products:y={}}=s||{},h=(null===(n=y[i])||void 0===n?void 0:null===(t=n.annualBilledMonthly)||void 0===t?void 0:t.prices[null==v?void 0:v.toLowerCase()])*12-(null===(a=y[i])||void 0===a?void 0:null===(r=a.annualBilledUpfront)||void 0===r?void 0:r.prices[null==v?void 0:v.toLowerCase()]),_=(0,u.P)(h,v);return p&&(_=f({price:h,localeCurrencyOverride:v})),h>0?_:null},h=e=>{var{product:t,downloadsPerMonth:n,discountPercentage:r=0,selectedProductLicenseType:i=""}=e,o=m({prices:t.prices}),{pricePerPaymentInterval:l,pricePerMonth:c,pricePerAsset:p,pricePerAssetDiscounted:f}=(0,d.useMemo)(()=>{var e,{allotmentCredits:l}=t,c=(0,s.g7)({product:t}),d=(0,s.Dg)({product:t}),u=i===a.cNV,m=(0,s.Yc)({product:t}),p=m&&!d?12:1,f=null==t?void 0:null===(e=t.prices)||void 0===e?void 0:e[o.toLowerCase()],v=f-f/100*r,y=m?(f/12).toFixed(2):f,h=(f/p/(c&&u?l/20:l)).toFixed(2),_=r?(v/p/(null!=l?l:n)).toFixed(2):h;return{pricePerMonth:y,pricePerAsset:h,pricePerAssetDiscounted:_,pricePerPaymentInterval:f}},[o,n,t,r,i]);return{formattedPricePerPaymentInterval:(0,u.P)(l,o),formattedPricePerMonth:(0,u.P)(c,o),formattedPricePerAsset:(0,u.P)(p,o),formattedPricePerAssetDiscounted:(0,u.P)(f,o)}},_=e=>{var{product:t,singleClipProduct:n}=e,r=m({prices:t.prices}),a=t.prices[r.toLowerCase()],i=null==n?void 0:n.prices[r.toLowerCase()],o=(a/t.allotmentCredits).toFixed(2),l=((i-o)*t.allotmentCredits).toFixed(0);return{formattedPackagePrice:(0,u.P)(a,r),formattedPricePerAsset:(0,u.P)(o,r),formattedSaveAmount:(0,u.P)(l,r)}},g=e=>{var{product:t,itemCount:n=1}=e,{prices:r={}}=t||{},a=(0,o.E)({prices:r}),i=r[null==a?void 0:a.toLowerCase()];return{formattedPrice:v({product:t}),pricePerItem:(0,u.P)((i/n).toFixed(2),a)}}},3214:function(e,t,n){n.d(t,{m:function(){return o}});var r=n(68668),a=n(22817),i=e=>(e&&e.toUpperCase())===a.Ps,o=()=>{var{region:e}=(0,r.PE)();return i(e)}}}]);
//# sourceMappingURL=11770-45b8c397ee5db6fc.js.map