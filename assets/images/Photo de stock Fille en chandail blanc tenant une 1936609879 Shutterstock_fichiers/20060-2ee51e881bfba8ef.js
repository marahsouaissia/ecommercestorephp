"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20060,40513],{938:function(e,t,n){n.d(t,{C:function(){return o}});var r=n(57460),i=n(52322),a=(0,n(6620).Z)((0,i.jsx)("path",{d:"M24 11.333V14h2.667v13.333H13.334v-2.667h-2.667v5.333h18.667V11.332zm-2.667-8H2.666V22h18.667V3.333zm-2.666 16H5.334V6h13.333v13.333z"}),"Copy.svg"),o=e=>(0,i.jsx)(a,(0,r._)({viewBox:"0 0 32 32"},e))},14700:function(e,t,n){n.d(t,{e:function(){return a}});var r=n(57460),i=n(38398),a=e=>{var{urlParams:t={},queryParams:n={}}=e,a="/bundle/".concat(t.filename),o=(0,r._)({},n);return{url:a,defaultParams:o,formattedUrl:(0,i.format)({pathname:a,query:o})}}},40513:function(e,t,n){n.d(t,{VL:function(){return G}});var r,i=n(57460),a=n(52322),o=n(37485),u=n(2784),l=()=>{var[e,t]=(0,u.useState)(!1),n=(0,o.d)();return{isModalOpen:e,handleOpenModal:()=>{n({actionName:"convert - signup modal opened"}),t(!0)},handleCloseModal:()=>{t(!1)}}},c=n(34144),d=n(14488),s=n(30805),v=n(72170),f=n(72726),m=n(3855),p=n(92481),h=n(99508),_=n(26362),y=n(81862),g=n(9774),w=n(94346),b=n(97956),C=n(66686),S=n(59100),k=n(20463),I=n(28954),x=n(18708),z=n(13409),A=n(72533),U=n(1880),P=n(63339),T=n(18271),j=n(82124),O=n(3255),F=n(83680),R=e=>{var{queryParams:t}=e;return(0,g.nS)({queryParams:t}).formattedUrl},E=e=>{var{assetId:t,asset:{id:n,tier:r=10,src:i,aspect:a,width:o,height:u}}=e;return{metadata:{notes:{media_id:t,alpha_num_id:n,rex_id:n,media_type:b.gP,tier:r,media:{aspect:a,width:o,height:u,url:i}}}}},D=(r=(0,y._)(function*(e){var t,{isRexEditorial:n,collectionId:r,verificationCode:i,setAsCover:a,firstAsset:o,collectionType:u}=e,l=(0,f.A8)(o);if(l===b.VT){var c=(0,g.Yz)({queryParams:{id:r,verificationCode:i,collectionType:u}}).formattedUrl,d=yield T.uS.get(c).then(e=>(0,j.O)(e.data)||{});if(!(null==d?void 0:null===(t=d.coverItem)||void 0===t?void 0:t.id)){var s=(0,f.OP)({asset:o,isRexEditorial:n}),v=(0,I.Q)({collectionId:r,mappedAssetType:l,assetId:s});yield a({collection:{id:r},mediaItem:{id:v}})}}}),function(e){return r.apply(this,arguments)}),M=()=>{var e,[t,n]=(0,u.useState)({status:"",error:void 0}),[r,a]=(0,u.useState)(""),[o,l]=(0,u.useState)(""),c=(0,A.J)(),{setAsCover:d}=(0,F.w)(),{isBrandSstk:s}=(0,U.D)(),{analytics:v}=(0,P.yh)(),m=(0,k.UM)(v),{mutate:p}=(0,O.kY)();return{add:(0,u.useCallback)((e=(0,y._)(function*(e){var{assets:t,assetType:r,gridItems:o,groupedOptions:u,id:v,title:h,verificationCode:_,pageSection:y,listId:k}=e,A=(0,x.wZ)({assetType:r,isBrandSstk:s});try{n({status:w.MR,error:void 0});var U=(0,f.Xo)(r),P=v,j=_;if(u&&u.length){var O=u.find(e=>{var{title:t}=e;return t===h});O&&(P=O.id,j=O.verificationCode)}if(!P){var F=(0,g.A6)().formattedUrl,M={data:{attributes:{title:h,collectionType:A,isPublic:!1},type:C.Ul}},{data:{id:N,attributes:{verificationCode:V}}}=yield T.uS.post(F,M);P=N,j=V}var q={data:t.map(e=>{var t=(0,f.OP)({asset:e,isRexEditorial:U}),n=(0,f.A8)(e);return(0,i._)({type:C.A8,id:(0,I.Q)({collectionId:P,mappedAssetType:n,assetId:t})},n===b.VT&&E({assetId:t,asset:e}))})},J=(0,g.mp)({urlParams:{id:P},queryParams:{isRexEditorial:U}}).formattedUrl,B=(0,z.y)(m);yield T.uS.post(J,q,B?{headers:{[S.as]:B}}:void 0);var Z=t[0];yield D({isRexEditorial:U,collectionId:P,verificationCode:j,setAsCover:d,firstAsset:Z,collectionType:A}),c({collectionId:P,collectionName:h,gridItems:o,assets:t,pageSection:y,listId:k}),a(P),l(j)}catch(e){n({status:w.cM,error:e})}finally{yield p(R({queryParams:{"filter[type]":A}}))}}),function(t){return e.apply(this,arguments)}),[s,m,d,c,p]),collectionId:r,setStatus:n,status:t,verificationCode:o}},N=n(88759),V=n(71154),q=n(25237),J=n.n(q),B=n(2281),Z=J()(()=>Promise.all([n.e(76950),n.e(41075),n.e(47019),n.e(88629),n.e(28903),n.e(46215),n.e(15873),n.e(2418),n.e(62393),n.e(21374),n.e(87976),n.e(45006)]).then(n.bind(n,67952)).then(e=>e.CollectionModal),{loadableGenerated:{webpack:()=>[67952]},ssr:!1}),X=e=>{var{isOpen:t}=e,n=(0,B._)(e,["isOpen"]);return(0,h.B)(t)&&(0,a.jsx)(Z,(0,i._)({isOpen:t},n))},H=J()(()=>Promise.all([n.e(76950),n.e(47019),n.e(88629),n.e(28903),n.e(46215),n.e(4196),n.e(25437),n.e(34698),n.e(63446),n.e(21290),n.e(91576)]).then(n.bind(n,20360)).then(e=>e.SaveSnackbarOrModal),{loadableGenerated:{webpack:()=>[20360]},ssr:!1}),K=J()(()=>n.e(81026).then(n.bind(n,81026)).then(e=>e.Snackbar),{loadableGenerated:{webpack:()=>[81026]},ssr:!1}),L=e=>[].concat(e),Y=e=>{var{assets:t,assetType:n,collectionId:r,collectionTitle:i,gridItems:o,isDialogActive:l,isSnackBarOpen:d,onAddToCollections:v,onAlertSnackbarClose:f,onAddToCollectionsComplete:m,redirectToCDPAction:p,setIsDialogActive:_,showCopyToModalTitle:y,status:g,verificationCode:w,pageSection:b}=e,C=(0,V.p)(c.vb),S=(0,V.p)(c.pG),k=(0,h.B)(t),I=(0,u.useCallback)(()=>_(!1),[_]),{folders:x}=(0,s.c)();return k?C||S&&l?x?(0,a.jsx)(H,{onClose:I,isOpen:l,items:t,onAddToCollectionsComplete:m,pageSection:b}):null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X,{assets:t,assetType:n,collectionId:r,gridItems:o,isOpen:l,onAddToCollections:v,setIsDialogActive:_,showCopyToModalTitle:y,pageSection:b}),(0,a.jsx)(K,{assetType:n,collectionId:r,collectionTitle:i,isOpen:d,onAlertSnackbarClose:f,redirectToCDPAction:p,status:g,verificationCode:w})]}):null};Y.defaultProps={assetType:"",assets:null,gridItems:null,onAddToCollectionsComplete:void 0,redirectToCDPAction:{}};var G=e=>{var{initialAssetType:t}=e,n=(0,d.r)(),[r,a]=(0,u.useState)(!1),[o,c]=(0,u.useState)(!1),[h,y]=(0,u.useState)(!1),[g,w]=(0,u.useState)(""),[b,C]=(0,u.useState)(null),[S,k]=(0,u.useState)(t),[I,x]=(0,u.useState)(null),[z,A]=(0,u.useState)(null),[U,P]=(0,u.useState)(null),[T,j]=(0,u.useState)({}),O=(0,N.B)(),F=(0,m.cM)(),R=(0,p.L)(),E=(0,_.d)(),{isModalOpen:D,handleCloseModal:V,handleOpenModal:q}=l(),[J,B]=(0,u.useState)({shouldHandleRedirect:!1,redirectToCollectionDetailsPage:R}),{add:Z,status:X,collectionId:H,verificationCode:K}=M(),{setIsSaveInProgress:G,setDisableFetch:Q}=(0,s.c)();(0,u.useEffect)(()=>()=>C(null),[]),(0,u.useEffect)(()=>()=>k(""),[]);var $=(0,u.useCallback)(e=>{var{formattedAssets:t,gridItems:n,isCopyToCollection:r,mappedAssetType:i,redirectToCollectionDetailsPage:o,pageSection:u,listId:l}=e;k(i),C(t),A(u),P(l),r&&y(!0),n&&x(n),o&&B({shouldHandleRedirect:!0,redirectToCollectionDetailsPage:o}),a(!0)},[]),W=(0,u.useMemo)(()=>({assets:b,pageSection:z,assetType:S,collectionId:H,collectionTitle:g,gridItems:I,isDialogActive:r,isSnackBarOpen:o,onAddToCollections:e=>{var{id:t,title:n,verificationCode:r,groupedOptions:i,pageSection:o}=e;return w(n),a(!1),c(!0),Z({assetType:S,assets:b,gridItems:I,groupedOptions:i,id:t,title:n,verificationCode:r,pageSection:o||z,listId:U})},onAlertSnackbarClose:()=>c(!1),redirectToCDPAction:J,setIsDialogActive:a,showCopyToModalTitle:h,status:X,verificationCode:K}),[b,I,Z,U,z,S,H,g,r,o,J,h,X,K]),ee=(0,u.useCallback)(e=>{var{assets:t,gridItems:r,isCopyToCollection:a=!1,redirectToCollectionDetailsPage:o,pageSection:u,listId:l,openModal:c=!1,cta:d=""}=e;if(O){Q(!1),G(!0);var s=L(t);$({formattedAssets:s,gridItems:r,isCopyToCollection:a,mappedAssetType:(0,f.A8)(s[0]),redirectToCollectionDetailsPage:o,pageSection:u,listId:l})}else c&&!E?(j((0,i._)({cta:d},t&&{assets:t},r&&{gridItems:r})),t&&window.sessionStorage.setItem(v.Iz,JSON.stringify(t)),r&&window.sessionStorage.setItem(v.em,JSON.stringify(r)),(null==n?void 0:n.current)&&(n.current.isInProgress=!1,n.current.complete()),q()):(0,v.JO)({assets:t,gridItems:r,signUpPath:F})},[O,E,Q,G,$,n,q,F]),et=e=>e&&"undefined"!==e,en=(0,u.useCallback)(()=>{var e=window.sessionStorage.getItem(v.Iz),t=window.sessionStorage.getItem(v.em);et(e)&&et(t)&&ee({assets:JSON.parse(e),gridItems:JSON.parse(t),redirectToCollectionDetailsPage:!1}),window.sessionStorage.removeItem(v.cy),window.sessionStorage.removeItem(v.Iz),window.sessionStorage.removeItem(v.em)},[ee]);return(0,u.useEffect)(()=>{var e=window.sessionStorage.getItem(v.cy);et(e)&&JSON.parse(e)?O&&en():(0,v.DZ)({showAddToCollectionModal:$,isLoggedInUser:O})},[en,O,$]),{addToCollectionViewsProps:W,addToCollectionViewsHandler:ee,AddToCollectionViews:Y,isModalOpen:D,handleCloseModal:V,collectionProps:T}}},32326:function(e,t,n){n.d(t,{b:function(){return m}});var r=n(81862),i=n(52322),a=n(24862),o=n(89629),u=n(9788),l=n(94346),c=n(8026),d=n(938),s=n(34273),v=n.n(s),f=n(2784),m=e=>{var{classesProps:t={},clickAnalyticsLabel:n="",errorMessage:s,successMessage:m,text:p="",tooltip:h}=e,{enqueueSnackbar:_}=(0,c.D)(),y=!p,g=(0,f.useCallback)((0,r._)(function*(){try{yield v()(p),_({message:m,alertSeverity:l.MR,isDismissible:!0})}catch(e){e&&_({message:s,alertSeverity:l.cM,error:e,isDismissible:!0})}}),[_,s,m,p]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{display:"inline-flex",flexDirection:"column",justifyContent:"center",textAlign:"center",mx:1,children:(0,i.jsx)(o.l,{title:h,placement:"top",children:(0,i.jsx)("span",{children:(0,i.jsx)(u.h,{"aria-label":h,className:t.copyToClipboard,clickTrack:n,disabled:y,onClick:()=>g(),size:"small",children:(0,i.jsx)(d.C,{fontSize:"small"})})})})})})}},21612:function(e,t,n){n.d(t,{Y:function(){return s}});var r=n(52322),i=n(94346),a=n(55373),o=n(25237),u=n.n(o),l=n(2784),c=n(26591),d=u()(()=>Promise.all([n.e(36613),n.e(10934),n.e(73726)]).then(n.bind(n,26813)).then(e=>e.Snackbar),{loadableGenerated:{webpack:()=>[26813]},ssr:!1}),s=e=>{var{alertAction:t={},alertSeverity:n=i.H_,error:o,handleSnackbarClose:u=a.Z,isOpen:s,message:v="",onSnackbarExited:f=a.Z,isDismissible:m=!0,anchorOrigin:p=c.rX}=e,[h,_]=(0,l.useState)(!1);return s||h?(0,r.jsx)(d,{alertAction:t,alertSeverity:n,error:o,handleSnackbarClose:u,isOpen:s,message:v,onSnackbarExited:f,setEntered:_,isDismissible:m,anchorOrigin:p},v):null}},59625:function(e,t,n){n.d(t,{U:function(){return i},V:function(){return r}});var r={default:450,xlarge:550},i="H01"},72212:function(e,t,n){n.d(t,{KQ:function(){return a},LX:function(){return l},Qs:function(){return i},YU:function(){return u},_3:function(){return r},_Y:function(){return d},iH:function(){return c},yI:function(){return o}});var r="jpg",i="eps",a="JPEG",o="png",u="psd",l="tiff",c="mp3",d="wav"},4436:function(e,t,n){n.d(t,{Dq:function(){return u},Hn:function(){return l},Uw:function(){return i},ad:function(){return o},qy:function(){return r},vP:function(){return a}});var r="organization_admin",i="editor",a="owner",o="viewer",u="Remove",l="none"},85303:function(e,t,n){n.d(t,{J:function(){return o}});var r=n(2784),i=n(55373),a={applyCanvasViewed:i.Z,applyToolAnalytics:i.Z,emitEditProductAnalyticsEvent:i.A},o=(0,r.createContext)(a)},5132:function(e,t,n){n.d(t,{k:function(){return a}});var r=n(2784),i=n(85303),a=()=>(0,r.useContext)(i.J)},71933:function(e,t,n){n.d(t,{v:function(){return a}});var r=n(2784),i=(0,r.createContext)({}),a=()=>(0,r.useContext)(i)},41344:function(e,t,n){n.d(t,{k:function(){return r}});var r=(0,n(2784).createContext)(null)},2002:function(e,t,n){n.d(t,{m:function(){return a}});var r=n(2784),i=n(41344),a=()=>(0,r.useContext)(i.k)||{}},18708:function(e,t,n){n.d(t,{w4:function(){return _},wZ:function(){return S},U0:function(){return b},Nb:function(){return v},fg:function(){return f},E4:function(){return C},Ak:function(){return m},Ck:function(){return w},$m:function(){return g},WP:function(){return y}});var r=n(57460),i=n(6692),a=n(97956),o=n(66686),u={[a.k4]:o.Zk,[a.Y_]:o.Zk,[a.xF]:o.Zi,[a.pX]:o.K2,[a.FM]:o.K2},l=n(4436),c=n(20463),d=n(2823),s=n(72726),v=e=>"Untitled"===e,f=function(){var{items:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&0===e.length},m=e=>{var t=!(null==e?void 0:e.role)&&!(null==e?void 0:e.isPublic);return(null==e?void 0:e.role)===l.ad||t},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t=""}=e,[,n,r]=t.split("-");return{id:r,type:n===a.j0?a.xF:n,aspect:1,src:"",previewImageUrl:""}},h=function(){var e,t,{metadata:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.tracking){try{e=(0,c.Be)({trackingId:null===(t=JSON.parse(n.tracking))||void 0===t?void 0:t.search})}catch(t){e=(0,c.Be)({trackingId:n.tracking})}return(0,r._)({search_context:e},i)}return i},_=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(null===(e=t.mediaItem)||void 0===e?void 0:e.id)?(0,d.Sw)(t.mediaItem):n&&p(t)},y=(e,t)=>e?e.reduce((e,n)=>{var a=_(n,t);return e.collectionItems.push((0,i._)((0,r._)({},n),{mediaItem:(0,i._)((0,r._)({},a),{meta:h(n,null==n?void 0:n.meta)})})),a&&e.mediaItems.push((0,i._)((0,r._)({},a),{meta:h(n,null==a?void 0:a.meta)})),e},{collectionItems:[],mediaItems:[]}):{collectionItems:e},g=e=>{var{assetType:t,t:n,totalItemCount:r}=e,i=t===a.gP,o=1===r,u=i?"ent:collection_editorial_total_single":"feature-collections:number_".concat(a.d_[t],"_single"),l=i?"ent:collection_editorial_total_plural":"feature-collections:number_".concat(a.d_[t],"_plural");return n(o?u:l,{NUM_TRACKS:r})},w=e=>{var{t,formatter:n,date:r}=e;if(!n||!r)return"";try{return t("footage:directors_choice_list_collection_card_edited_date",{DATE:n(new Date(r))})}catch(e){return console.error(e),""}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e.find(e=>e.type===o.A8)},C=e=>{var{assets:t=[],assetType:n}=e;switch(n){case a.xF:case a.j0:return t.some(e=>(0,s.O)({track:e}));case a.k4:return t.some(e=>(0,s.PD)(e));default:return!1}},S=e=>{var{assetType:t,isBrandSstk:n}=e;return n?u[t]:o.sE[t]}},38607:function(e,t,n){n.d(t,{Oo:function(){return R},rB:function(){return I}});var r,i,a,o,u=n(81862),l=n(57460),c=n(9774),d=n(59625),s=n(72212),v=n(63775),f=n(97956),m=n(34904),p=n(34129),h=n(22253),_=n(18271),y=n(82124),g=n(97990),w=n(2823),b=n(72726),C=n(33055),S=n(62463),k=e=>{var t,n,{asset:r}=e,{angle:i,selectedFormatType:a,selectedShadowsOption:o}=r;return(0,l._)({angle:i||(null==r?void 0:null===(n=r.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.angle)||d.U,content_size:v.JF},a===s.yI&&{include_shadows:"on"===o})},I=e=>{var t,n,{asset:r}=e;return(null==r?void 0:null===(n=r.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.sizes)||r.sizes},x=(r=(0,u._)(function*(e){var t,{asset:n}=e;if((null==n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.cart)&&!n.metadata.cart.sizes){var r=(0,b.so)(n),i={id:n.id};return r&&(i.channel=m.$S,i.content_provider=p._e),(yield _.uS.get((0,c.om)({queryParams:i}).formattedUrl).then(e=>{var{data:t}=e;return(0,y.O)(t)})).sizes}return I({asset:n})}),function(e){return r.apply(this,arguments)}),z=e=>{var t,n,r,i,{asset:a,is3dObject:o,isRexEditorial:u,selectedAssetSize:l}=e;return a.licenseAsJpeg||(null===(n=a.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.licenseAsJpeg)?"jpeg":o&&a.selectedFormatType?"3dByFormat":o&&(null===(i=a.metadata)||void 0===i?void 0:null===(r=i.cart)||void 0===r?void 0:r.size)?"3dBySize":C.Bg[l]?"comped":u?"rexEditorial":"default"},A=e=>{var t,n,r,i,{asset:a,licenseStrategy:o,selectedAssetSize:u,sizesToUseArray:l}=e,c=(()=>{switch(o){case"jpeg":return l.find(e=>{var{format:t}=e;return t===s._3});case"3dByFormat":return l.find(e=>{var{format:t}=e;return t===a.selectedFormatType});case"3dBySize":return;case"comped":return(0,w.AR)({sizes:l,compSizeImage:u});default:return(0,w.Nf)(l)}})(),d=(null==c?void 0:c.format)||(null===(n=a.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.format);switch(o){case"rexEditorial":return{size:v.vD,format:d};case"3dByFormat":var[f]=c.name.split("_");return{size:f,format:d};case"3dBySize":return{size:null==a?void 0:null===(i=a.metadata)||void 0===i?void 0:null===(r=i.cart)||void 0===r?void 0:r.size,format:d};default:return{size:C.nd[(0,g.z)(c.name)].downloadName,format:d}}},U=e=>{var t,n,r,i,{selectedAssetSize:a,asset:o}=e,u=I({asset:o}),c=(0,b.EK)(o),d=(0,b.f8)(o),s=d?k({asset:o,selectedAssetSize:a,sizesToUse:u}):{};if(!u&&(null==o?void 0:null===(n=o.metadata)||void 0===n?void 0:null===(t=n.cart)||void 0===t?void 0:t.size)&&(null==o?void 0:null===(i=o.metadata)||void 0===i?void 0:null===(r=i.cart)||void 0===r?void 0:r.format))return(0,l._)({content_size:c?v.vD:o.metadata.cart.size,content_format:o.metadata.cart.format},s);var f=Object.values(u),m=z({asset:o,is3dObject:d,isRexEditorial:c,selectedAssetSize:a}),{size:p,format:h}=A({asset:o,licenseStrategy:m,selectedAssetSize:a,sizesToUseArray:f});return(0,l._)({content_size:p,content_format:h},s)},P=e=>{var{map:t,licenseName:n}=e,r=t[n];return r===v.T0?v.qY:r},T=e=>{var{asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i,sizes:a}=e,o=(0,b.EK)(t),u=(0,b.cL)(t),l=(0,b.$Q)({sizes:Object.values(a)});return!r&&l?P({map:C.Q1,licenseName:n}):r||n===h.f12||o||u?!i||o||u?(0,w.mF)(a):C.kR[i]:P({map:C.kR,licenseName:n})},j=(i=(0,u._)(function*(e){var{asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i}=e,a=yield x({asset:t}),o=T({asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i,sizes:a}),u=(0,b.EK)(t),l=Object.values(a).find(e=>{var{resolution:t}=e;return C.wb[null==t?void 0:t.toLowerCase()]===o});return{content_size:u?v.vD:o,content_format:null==l?void 0:l.format}}),function(e){return i.apply(this,arguments)}),O=e=>{var t,{format:n,selectedAssetSize:r}=e;switch(r){case"stereo":t=v.cs;break;case"5.1":t=v.gp;break;default:t=v.yy}return{content_size:t,content_format:n===s.iH?s.iH:s._Y}},F=(a=(0,u._)(function*(e){var{asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i,format:a}=e,o=(0,S.qw)({asset:t});switch((0,b.so)(t)&&(o=f.A7),o){case f.pX:case f.A7:return yield j({asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:i});case f.j0:return{content_size:v.Ng,content_format:f.j0};case f.tn:return O({selectedAssetSize:i,format:a});default:return U({selectedAssetSize:i,asset:t})}}),function(e){return a.apply(this,arguments)}),R=(o=(0,u._)(function*(e){var{licenseName:t,selectedAssetSize:n,asset:r,isVideoComp:i,format:a}=e,o=(0,S.qw)({asset:r}),u=r.id.toString();return(0,l._)({content_id:u,content_type:(0,S.JD)({assetType:o,assetId:u})},(yield F({asset:r,licenseName:t,isVideoComp:i,selectedAssetSize:n,format:a})))}),function(e){return o.apply(this,arguments)})},62463:function(e,t,n){n.d(t,{Fy:function(){return c},JD:function(){return o},Js:function(){return d},qw:function(){return u},rw:function(){return l}});var r=n(97956),i=n(22253),a=n(72726),o=e=>{var{assetId:t,assetType:n}=e;if((0,a.EK)({id:t}))return r.gP;switch(n){case r.k4:case r.Y_:case r.ox:case r.w5:return r.pV;case r.FM:return r.pX;case r.xF:case r.jr:return r.j0;case r.tn:return r.tn;default:return n}},u=e=>{var t,{asset:n}=e;if(null===(t=n.image)||void 0===t?void 0:t.isVector)return r.ox;if((0,a.EK)(n))return r.gP;var i=n.imageType||n.itemType||n.type;switch(i){case r.e3:case r.X2:case r.Y_:return r.k4;case r.FM:return r.pX;case r.jr:return r.j0;case r.tn:return r.tn;default:return i}},l=e=>{var{asset:t}=e;if((0,a.N3)(t))return r.gP;if((0,a.so)(t))return r.cF;var n=t.imageType||t.itemType||t.type;switch(n){case r.ox:case r.pV:case r.e3:case r.X2:case r.Y_:return r.k4;case r.FM:return r.pX;case r.jr:return r.j0;case r.tn:return r.tn;default:return n}},c=e=>{var{asset:t}=e;if((0,a.N3)(t))return r.nX;if((0,a.so)(t))return r.A7;var n=t.imageType||t.itemType||t.type;switch(n){case r.ox:case r.pV:case r.e3:case r.X2:case r.Y_:return r.k4;case r.FM:return r.pX;case r.jr:case r.xF:return r.j0;case r.tn:return r.tn;default:return n}},d=e=>{var t=c({asset:e.mediaItem});return e.licenseName===i._rW[t]}},87459:function(e,t,n){n.d(t,{KW:function(){return v},VC:function(){return f},fp:function(){return c},lR:function(){return d},ok:function(){return m},qG:function(){return s},r8:function(){return p},vG:function(){return l}});var r=n(63775),i=n(97956),a=n(72726),o=n(30708),u=[i.pX],l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;if(!o.n5||"string"!=typeof e||e.includes("ip=x".concat(t)))return e;try{var n=new URL(e);return n.searchParams.set("ip","x".concat(t)),n.href}catch(t){return e}},c=e=>{var t,n,r;return(null==e?void 0:e.mediaItem)?{previewImageUrl:null===(n=e.mediaItem)||void 0===n?void 0:n.previewImageUrl,previewVideoUrls:null===(r=e.mediaItem)||void 0===r?void 0:r.previewVideoUrls}:{previewImageUrl:(null==e?void 0:e.thumbImageUrl)||(null==e?void 0:null===(t=e.image)||void 0===t?void 0:t.url)||(null==e?void 0:e.previewImageUrl),previewVideoUrls:null==e?void 0:e.previewVideoUrls}},d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;if(!(0,a.Am)(t))return t.src||(null===(e=t.image)||void 0===e?void 0:e.url);var{previewImageUrl:r}=c(t);return l(r,n)},s=e=>{var{assetType:t}=e;return t===i.pX?"mp4":null},v=e=>{var{asset:t}=e;return u.includes((0,a.Tp)(t))&&!(0,a.so)(t)},f=function(){var e,t,n,i,o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,a.vh)(null==u?void 0:u.type))return(null==u?void 0:u.width)>1e3?"".concat(null==u?void 0:u.previewUrls[0],"?width=1000"):null==u?void 0:u.previewUrls[0];var l=(0,a.EK)(u)?r.bm:r.RA,c=(null==u?void 0:null===(t=u.displays)||void 0===t?void 0:null===(e=t[l])||void 0===e?void 0:e.src)||(null==u?void 0:null===(o=u.image)||void 0===o?void 0:null===(i=o.displays)||void 0===i?void 0:null===(n=i[l])||void 0===n?void 0:n.src);return(0,a.f8)(u)&&u.angle?c.replace(/\/([A-Z]\d\d)./,"/".concat(u.angle,".")):c},m=function(){var e,t,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=(0,a.Tp)(o);return u===i.k4||u===i.zo||u===i.Nk?(null==o?void 0:null===(t=o.displays)||void 0===t?void 0:null===(e=t[r.bm])||void 0===e?void 0:e.src)||(null==o?void 0:o.src):u===i.bz?null==o?void 0:null===(n=o.imageVariants)||void 0===n?void 0:n["1500"]:u===i.xF||u===i.tn?null==o?void 0:o.previewMp3:u===i.hv?null==o?void 0:o.previewUrls[0]:null},p=function(){var e,t,n,r,i,o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c={width:null!==(r=null!==(n=u.width)&&void 0!==n?n:null===(e=u.mediaItem)||void 0===e?void 0:e.width)&&void 0!==r?r:0,height:null!==(o=null!==(i=u.height)&&void 0!==i?i:null===(t=u.mediaItem)||void 0===t?void 0:t.height)&&void 0!==o?o:0};if((0,a.Am)(u)&&(!c.width||!c.height)&&u.sizes){var d=Object.keys(u.sizes).find(e=>u.sizes[e]);c.width=d&&u.sizes[d].width||0,c.height=d&&u.sizes[d].height||0}if(l&&(!c.width||!c.height)&&u.aspectRatioCommon){var[s,v]=u.aspectRatioCommon.split(":");c.width=Number(s),c.height=Number(v)}return c}},13409:function(e,t,n){n.d(t,{y:function(){return r}});var r=e=>{var{subPage:t,pageType:n}=e;return[t,n].join("-")}},79308:function(e,t,n){n.d(t,{t:function(){return a}});var r=n(63339),i=n(2784),a=()=>{var{analytics:e}=(0,r.yh)();return(0,i.useCallback)(function(){var{pageSection:t,eventLabel:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&n&&e.inlineClick("".concat(t,".").concat(n))},[e])}},72533:function(e,t,n){n.d(t,{J:function(){return u}});var r=n(20463),i=n(63339),a=n(2784),o=n(62130),u=()=>{var{analytics:e}=(0,i.yh)(),{getSearchContext:t}=(0,o.Y)();return(0,a.useCallback)(n=>{var{collectionId:i,collectionName:a,gridItems:o,assets:u,pageSection:l,listId:c}=n;e.productAddedToWishlist({products:u.map(e=>(0,r.bR)({asset:e,getSearchContext:t,gridItems:o,pageSection:l})),wishlist_id:i,wishlist_name:a,list_id:null!=c?c:""})},[e,t])}},99762:function(e,t,n){n.d(t,{U:function(){return d}});var r=n(57460),i=n(25499),a=n(5132),o=n(68668),u=n(20463),l=n(63339),c=n(2784),d=()=>{var{analytics:e}=(0,l.yh)(),{locale:t}=(0,o.PE)(),{emitEditProductAnalyticsEvent:n}=(0,a.k)();return(0,c.useCallback)(a=>{var{assets:o=[],audioContext:l,eventLabel:c,licenseId:d,isRedownload:s,isQuickDownload:v,isPaid:f,isComp:m,pageSection:p,listId:h}=a,_=c||m&&i.Vp1||void 0;e.productDownloaded((0,r._)({products:o.map(e=>(0,u.bR)({asset:e,shouldGetSearchContextFromAsset:!0,licenseId:d,pageSection:p})),download_context:(0,u.OB)({asset:o[0],isComp:m,isPaid:f,isQuickDownload:v,isRedownload:s,language:t}),eventLabel:_,list_id:null!=h?h:""},l&&{audio_context:(0,r._)({},l)})),n("license")},[e,t,n])}},29375:function(e,t,n){n.d(t,{T:function(){return c}});var r=n(57460),i=n(20463),a=n(72726),o=n(63339),u=n(2784),l=n(62130),c=()=>{var{analytics:e}=(0,o.yh)(),{getSearchContext:t}=(0,l.Y)();return(0,u.useCallback)(n=>{var{asset:o,eventLabel:u,gridItems:l,isPreview:c,listId:d,pageSection:s}=n,v=(0,i.qI)(o),f=(0,i.f_)(o),m=(0,i.Rz)(o);e.productViewed((0,r._)({eventLabel:u,list_id:null!=d?d:"",page_section:s,asset_type:(0,a.ZZ)(o),category:(0,i.CP)(o),channels:(0,i.Ky)(o),is_preview:c,name:(0,i.LJ)(o),product_id:v,search_context:t(o),sku:v},l&&(null==l?void 0:l.length)>1?(0,i.mq)({gridItems:l,item:o}):{},f&&{brand:f},m&&{product_line:m}))},[e,t])}},71308:function(e,t,n){n.d(t,{z:function(){return a}});var r=n(2784),i=n(29375),a=e=>{var{asset:t,showErrorPageContent:n}=e,a=(0,i.T)();(0,r.useEffect)(()=>{!n&&t&&a({asset:t,isPreview:!1})},[t,a,n])}},62130:function(e,t,n){n.d(t,{Y:function(){return c}});var r=n(18695),i=n(20463),a=n(1880),o=n(47614),u=n(21805),l=n(2784),c=()=>{var{isBrandSstk:e}=(0,a.D)();return{setSearchContext:(0,l.useCallback)(t=>{var{trackingId:n,term:i}=t;if(n){if((0,o.H7)()===n)return;(0,o.tc)(n),(0,o.Cl)(i),e&&u.Z.set(r.d6,n,{expires:r.Dy,sameSite:"strict"})}},[e]),getSearchContext:(0,l.useCallback)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{meta:n}=t,r=(0,i.lt)({asset:t})||(0,o.H7)();return(0,i.Be)({trackingId:(null==r?void 0:r.uuid)||r,searchTerm:(null==n?void 0:n.query)||(null==n?void 0:null===(e=n.search_context)||void 0===e?void 0:e.search_term)||(0,o.He)()})},[]),getSearchContextFromAssets:(0,l.useCallback)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(null==t?void 0:t[0])||t,{meta:r}=n,a=(0,i.lt)({asset:n})||(0,o.H7)();return(0,i.Be)({trackingId:a,searchTerm:(null==r?void 0:r.query)||(null==r?void 0:null===(e=r.search_context)||void 0===e?void 0:e.search_term)||(0,o.He)()})},[])}}},94001:function(e,t,n){n.d(t,{P:function(){return f},o:function(){return v}});var r=n(54711),i=n(97956),a=n(94095),o=n(68668),u=n(59877),l=n(2784),c=e=>e%1==0?0:2,d=e=>{var{t,price:n}=e;return{compCredits:t("comp_credits",{PRICE:n}),credit:t(["1",1].includes(n)?"credit":"credits",{PRICE:n}),licenseCredits:t("license_credits",{PRICE:n}),unavailable:t("ent:unavailable"),unlimited:t("ent:unlimited")}},s=e=>{var{labels:t={}}=e;return{[a.vh]:t.credit,[a.un]:t.compCredits,[a.eM]:t.licenseCredits}},v=()=>{var{fullLocale:e,currencyData:{currency:t="USD"}={}}=(0,o.PE)(),{t:n}=(0,u.$G)(r.Pkf);return(0,l.useCallback)(r=>{var{price:o,localeCurrencyOverride:u="",priceType:l=a.Br,fixedFractionDigits:v}=r,f=d({t:n,price:o});if(o===i.nZ)return f.unavailable;if(o===i.q9)return f.unlimited;var m=s({labels:f});return(null==m?void 0:m[l])||new Intl.NumberFormat(e,{style:"currency",currency:u||t,minimumFractionDigits:null!=v?v:c(o)}).format(o)},[t,e,n])},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Br;return v()({price:e,localeCurrencyOverride:t,priceType:n})}},55728:function(e,t,n){n.d(t,{iP:function(){return s},o1:function(){return v}});var r=n(73235),i=n(52206),a=n(6647),o=n(3255);function u(){var e=(0,r._)(["\n  query Data($where: MediaWhere!) {\n    creativeImages(where: $where) {\n      data {\n        isIpReviewed\n        classicId\n        referenceIds {\n          namespace\n          name\n          value\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}var l=(0,a.gql)(u()),c=e=>{var{assetIds:t}=e;return[l,{where:{classicIds:t}}]},d=e=>{var t;return(null==e?void 0:null===(t=e.creativeImages)||void 0===t?void 0:t.data)?e.creativeImages.data.filter(e=>null!==e).map(e=>{var t=(null==e?void 0:e.isIpReviewed)||!1,n=(null==e?void 0:e.referenceIds)||[],r=(null==e?void 0:e.classicId)||"",i=n.find(e=>(null==e?void 0:e.namespace)==="ip_review"&&(null==e?void 0:e.name)==="ip_review_status");return{classicId:r,isIpReviewed:t,ipReviewStatus:(null==i?void 0:i.value)||"",swrKey:c({assetIds:[r]})}}):[]},s=(e,t)=>{var[n,r]=c({assetIds:t});return e(n,r).then(d)},v=(e,t)=>{var{assetIds:n}=e,r=(0,i.H)("/"),a=c({assetIds:n});return(0,o.ZP)(t?a:null,e=>{var[t,n]=e;return r(t,n).then(d)})}},92481:function(e,t,n){n.d(t,{L:function(){return o}});var r=n(18625),i=n(5632),a=n(2784),o=()=>{var e=(0,i.useRouter)();return(0,a.useCallback)(t=>{var{assetType:n,collectionId:i,verificationCode:a}=t,o=(0,r.B)({assetType:n,id:i,verificationCode:a});e.push(...o)},[e])}},2695:function(e,t,n){n.d(t,{N:function(){return y}});var r=n(81862),i=n(9774),a=n(97956),o=n(6600),u=n(72726),l=n(87459),c=n(23263),d=n(18271),s=n(18936),v=RegExp("\\s","g"),f="preview",m=e=>{var{id:t,title:n}=e;return"".concat(t).concat("_").concat(n.replace(v,"-").toLowerCase()).concat("_").concat(f)},p=(e,t)=>{var{id:n,title:r}=e;return"".concat(n).concat("_").concat(r.replace(v,"-").toLowerCase()).concat("_").concat("short").concat(t).concat("_").concat(f)},h=n(62498),_=n(2784),y=()=>{var e,t,n,v,f,[y,g]=(0,_.useState)(null),[w,b]=(0,_.useState)(!1),[C,S]=(0,_.useState)(null),k=(0,_.useCallback)((e=(0,r._)(function*(e){var t,{asset:n}=e,r=(0,u.Tp)(n),a={data:[{media_id:n.id,media_type:r,media_size:"preview",media_format:(0,l.qG)({assetType:r})}]};try{b(!0);var{data:o}=yield d.uS.post((0,i.u8)().formattedUrl,a),{attributes:c}=o.data[0];t=c.url}catch(e){g(e)}finally{b(!1)}return t}),function(t){return e.apply(this,arguments)}),[]),I=(0,_.useCallback)((t=(0,r._)(function*(e){var t=yield k({asset:e});t&&(0,h.l_)(t)}),function(e){return t.apply(this,arguments)}),[k]),x=(0,_.useCallback)((n=(0,r._)(function*(e){var t=m(e);b(!0),yield(0,s.S)((0,l.ok)(e),t),b(!1)}),function(e){return n.apply(this,arguments)}),[]),z=(0,_.useMemo)(()=>({[a.k4]:e=>(0,s.S)((0,l.ok)(e)),[a.xF]:x,[a.Xy]:e=>(0,c.A_)((0,l.ok)(e),{target:"_blank"}),[a.pX]:I}),[x,I]);return{triggerDownloadPreview:(v=(0,r._)(function*(e){var t,{asset:n}=e;return(0,u.EK)(n)?z[a.Xy](n):null===(t=z[(0,u.Tp)(n)])||void 0===t?void 0:t.call(z,n)}),function(e){return v.apply(this,arguments)}),triggerDownloadShortsPreview:(f=(0,r._)(function*(e){var t,n,r,{asset:i,size:a}=e,u=o.wZ.indexOf(a),{externalUrl:l}=null!==(r=null==i?void 0:null===(n=i.trackAssets)||void 0===n?void 0:null===(t=n.shorts)||void 0===t?void 0:t[u])&&void 0!==r?r:{},c=p(i,a);S(a),yield(0,s.S)(l.replace("http://","https://"),c),S(null)}),function(e){return f.apply(this,arguments)}),isDownloading:w,shortDownloading:C,error:y}}},83680:function(e,t,n){n.d(t,{w:function(){return c}});var r=n(81862),i=n(9774),a=n(94346),o=n(66686),u=n(18271),l=n(2784),c=()=>{var e,[t,n]=(0,l.useState)({status:"",error:void 0}),c=(0,l.useCallback)((e=(0,r._)(function*(e){var{collection:t,mediaItem:r}=e,l=(0,i.df)({urlParams:{id:t.id}}).formattedUrl,c={data:{id:t.id,relationships:{"cover-item":{data:{id:"".concat(r.id),type:o.A8}}},type:o.Ul}};try{n({status:a.MR,error:void 0}),yield u.uS.patch(l,c)}catch(e){n({status:a.cM,error:e})}}),function(t){return e.apply(this,arguments)}),[]);return{status:t,setStatus:n,setAsCover:c}}},23263:function(e,t,n){n.d(t,{A_:function(){return S},QH:function(){return x},VM:function(){return A},Zc:function(){return P},mJ:function(){return I},oe:function(){return U},uG:function(){return k}});var r,i,a,o=n(81862),u=n(57460),l=n(6692),c=n(14700),d=n(9774),s=n(72212),v=n(63775),f=n(97956),m=n(34904),p=n(22253),h=n(38607),_=n(2823),y=n(72726),g=n(10546),w=n(66487),b=n(18271),C=n(63350),S=function(e){var{name:t,target:n="_self"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("a");r.setAttribute("data-automation","FeatureDownload_utils_link"),r.style.display="none",r.href=e,r.target=n,r.download=t||e,document.body.appendChild(r),r.click(),(0,C.bK)()||document.body.removeChild(r)},k=(r=(0,o._)(function*(e){var{downloadBundlePayload:t}=e,n=(0,c.e)({urlParams:{filename:t.bundleFilename}}).formattedUrl,{public_url:r}=(yield w.jl.post(n,t.content)).data;return r}),function(e){return r.apply(this,arguments)}),I=e=>{var{licensedContent:t,supplementalUrlType:n}=e,{downloadUrl:r,supplementalUrls:i}=t[0];if((null==i?void 0:i.length)&&n){var{url:a=r}=i.find(e=>{var{type:t}=e;return t===n})||{};return a}return r},x=(i=(0,o._)(function*(e){var{downloadPayload:t,supplementalUrlType:n,licenseeIdentifier:r}=e,i=(0,d.f$)({urlParams:{licenseeIdentifier:r}}).formattedUrl,{data:{meta:{licensedContent:a}}}=yield b.uS.post(i,t);return{downloadUrl:I({licensedContent:a,supplementalUrlType:n}),licensedContent:a}}),function(e){return i.apply(this,arguments)}),z=e=>{var{existingAssetLicenses:t,contentType:n,licenseName:r,subscriptions:i}=e;switch(n){case f.pX:var a,o,u=(0,g.I)({existingAssetLicenses:t,subscriptions:[...null!==(a=null==i?void 0:i.videoSubscriptions)&&void 0!==a?a:[],...null!==(o=null==i?void 0:i.videoCompSubscriptions)&&void 0!==o?o:[]],licenseName:r});return(null==u?void 0:u.redeemableFor)||r;case f.j0:return r||p.zUW;case f.tn:return r||p.i9D;case f.pV:default:return r}},A=(a=(0,o._)(function*(e){var t,{assets:n,existingAssetLicenses:r,format:i,selectedAssetSize:a,subscriptions:c}=e,d=n.map((t=(0,o._)(function*(e){var t=(0,_.SS)({asset:e}),n=yield(0,h.Oo)({asset:e,licenseName:e.licenseId,selectedAssetSize:a});return(0,l._)((0,u._)({},n,t===f.tn&&{override_filename:"".concat(m.Oq,"_").concat(e.id,".").concat(i||n.content_format)},(0,y.f8)(e)&&(0,u._)({content_provider:"pixelsquid-media",content_size:v.JF},e.selectedFormatType===s.yI&&{include_shadows:"on"===e.selectedShadowsOption})),{license_name:z({existingAssetLicenses:r,contentType:t,licenseName:e.licenseId,subscriptions:c}),show_modal:!0})}),function(e){return t.apply(this,arguments)}));return{required_cookies:"",content:yield Promise.all(d)}}),function(e){return a.apply(this,arguments)}),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.id&&(e.title||e.description)&&e.type&&window.localStorage.setItem("sstk_ent_asset_preview",JSON.stringify({id:e.id,title:e.title||e.description,thumb:e.src||e.previewImageUrl||"",video:e.previewVideoUrls,url:e.link,type:(0,y.Tp)(e),isRex:e.isRexEditorial}))},P=e=>{var t;return requestAnimationFrame?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{e(...r)})}:e}},62498:function(e,t,n){n.d(t,{l_:function(){return i},lm:function(){return a},pr:function(){return o}});var r=n(63350),i=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("a");i.style.display="none",document.body.appendChild(i),i.setAttribute("download",t),i.href=n?encodeURI(e):e,(0,r.bK)()||i.click(),document.body.removeChild(i)},a=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=window.URL.createObjectURL(e);i(n,t),setTimeout(()=>window.URL.revokeObjectURL(n),100)},o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null===(e=t["content-disposition"])||void 0===e?void 0:e.split("filename=")[1]}},18936:function(e,t,n){n.d(t,{S:function(){return i}});var r,i=(r=(0,n(81862)._)(function*(e,t){var r,{fetch:i,document:a,URL:o}=n.g,u=yield i(e,{cache:"no-cache",mode:"cors",credentials:"omit"}),l=a.createElement("a");return l.href=o.createObjectURL((yield u.blob())),l.download=null!==(r=null!=t?t:e.split("/").pop())&&void 0!==r?r:"download",a.body.appendChild(l),l.click(),l.remove(),l}),function(e,t){return r.apply(this,arguments)})}}]);
//# sourceMappingURL=20060-2ee51e881bfba8ef.js.map